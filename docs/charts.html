<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Final Project · Charts</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <h1>U.S. Auto Market Visualization (2000–2024)</h1>

  <h2>1. Market Share: Cars vs Light Trucks</h2>
  <div id="fig1"></div>

  <h2>2. CO₂ vs Horsepower</h2>
  <div id="fig2"></div>

  <h2>3. EV Adoption (U.S. vs EU vs China vs Japan)</h2>
  <div id="fig3"></div>

  <h2>4. Road Safety: Fatalities per 100M VMT</h2>
  <div id="fig4"></div>

  <h2>5. Market Snapshot: Registrations & VMT</h2>
  <div id="fig5"></div>

  <script>
    // Chart 1: Light truck share (FRED)
    vegaEmbed("#fig1", "https://raw.githubusercontent.com/vega/vega-datasets/master/data/cars.json", {actions:false});

    // Chart 2: Placeholder (EPA CO₂ vs HP)
    vegaEmbed("#fig2", {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "description": "Dummy CO2 vs HP scatter",
      "data": {"url": "https://raw.githubusercontent.com/vega/vega-datasets/master/data/cars.json"},
      "mark": "point",
      "encoding": {
        "x": {"field": "Horsepower", "type": "quantitative"},
        "y": {"field": "Miles_per_Gallon", "type": "quantitative"},
        "color": {"field": "Origin", "type": "nominal"}
      },
      "title": "Bigger cars vs efficiency (placeholder)"
    }, {actions:false});

    // Chart 3: EV adoption (OWID/IEA) — placeholder line
    vegaEmbed("#fig3", {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "description": "EV share over time",
      "data": {"url": "https://raw.githubusercontent.com/vega/vega-datasets/master/data/stocks.csv"},
      "mark": "line",
      "encoding": {
        "x": {"field": "date", "type": "temporal"},
        "y": {"field": "price", "type": "quantitative"},
        "color": {"field": "symbol", "type": "nominal"}
      },
      "title": "EV adoption by region (placeholder)"
    }, {actions:false});

    // Chart 4: Fatalities per 100M VMT — placeholder
    vegaEmbed("#fig4", {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "description": "Fatality rate trend",
      "data": {"url": "https://raw.githubusercontent.com/vega/vega-datasets/master/data/unemployment-across-industries.json"},
      "mark": "line",
      "encoding": {
        "x": {"field": "date", "type": "temporal"},
        "y": {"field": "count", "type": "quantitative"}
      },
      "title": "U.S. fatalities per 100M VMT (placeholder)"
    }, {actions:false});

    // Chart 5: Market snapshot (Registrations vs VMT) — placeholder bar
    vegaEmbed("#fig5", {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "description": "Registrations & VMT snapshot",
      "data": {"values": [
        {"metric":"Registrations (M)", "value":280},
        {"metric":"Vehicle Miles (B)", "value":3300}
      ]},
      "mark": "bar",
      "encoding": {
        "x": {"field": "metric", "type": "ordinal"},
        "y": {"field": "value", "type": "quantitative"}
      },
      "title": "U.S. fleet & usage snapshot (placeholder)"
    }, {actions:false});
  </script>
</body>
</html>
